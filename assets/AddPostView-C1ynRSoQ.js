import{d as g,r as u,a as o,o as x,c as h,w as t,b as e,e as i,t as k,u as S,f as V}from"./index-BrFK3--k.js";import{_ as C}from"./PostForm.vue_vue_type_script_setup_true_lang-CDjDPVxY.js";const j=g({__name:"AddPostView",setup(B){const _=S(),r=u(!1),n=u({title:"",body:""}),l=u({show:!1,type:"error",text:""}),m=async()=>{r.value=!0;try{await V(n.value),_.push({name:"home",state:{showSnackbar:!0}})}catch{r.value=!1,l.value={show:!0,type:"error",text:"Something went wrong"}}};return(v,a)=>{const p=o("v-snackbar"),f=o("v-btn"),c=o("v-col"),d=o("v-row"),b=o("v-card-text"),w=o("v-card"),y=o("v-container");return x(),h(y,null,{default:t(()=>[e(p,{modelValue:l.value.show,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value.show=s),timeout:2e3,color:l.value.type,location:"top right"},{default:t(()=>[i(k(l.value.text),1)]),_:1},8,["modelValue","color"]),e(d,{justify:"center"},{default:t(()=>[e(c,{cols:"12",sm:"8",md:"7",lg:"5"},{default:t(()=>[e(f,{to:{name:"home"},variant:"tonal",flat:""},{default:t(()=>[i("Back")]),_:1})]),_:1})]),_:1}),e(d,{justify:"center"},{default:t(()=>[e(c,{cols:"12",sm:"8",md:"7",lg:"5"},{default:t(()=>[e(w,{"min-width":"100%",title:"Create post"},{default:t(()=>[e(b,null,{default:t(()=>[e(C,{onSubmit:m,title:n.value.title,"onUpdate:title":a[1]||(a[1]=s=>n.value.title=s),body:n.value.body,"onUpdate:body":a[2]||(a[2]=s=>n.value.body=s),isLoadingSubmit:r.value},null,8,["title","body","isLoadingSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{j as default};
